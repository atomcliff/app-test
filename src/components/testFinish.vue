<template>
    <div class="testFinish">
        <div class="container-mid">
            <div class="testFinish__wrapper" :style="setbg">
                <div class="testFinish__content">
                    <span
                        class="testFinish__result"
                    >{{rightAnswers}} из {{questionsListsLength}} правильных ответов</span>
                    <h2 class="testFinish__title">{{finishContItem.title}}</h2>
                    <div class="testFinish__social">
                        <div class="testFinish__social-item testFinish__social-item--facebook">
                            <svg
                                width="13"
                                height="24"
                                viewBox="0 0 13 24"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                    fill-rule="evenodd"
                                    clip-rule="evenodd"
                                    d="M12.3481 0.160382L9.27036 0.155762C5.81299 0.155762 3.57803 2.44423 3.57803 5.98551V8.67382H0.483285C0.216953 8.67382 0 8.88914 0 9.15621V13.0514C0 13.3173 0.216953 13.5338 0.483285 13.5338H3.57803V23.3614C3.57803 23.6272 3.79499 23.8438 4.06255 23.8438H8.09857C8.36613 23.8438 8.58309 23.6272 8.58309 23.3614V13.5338H12.2009C12.4685 13.5338 12.6845 13.3173 12.6845 13.0514L12.6867 9.15621C12.6867 9.02868 12.6348 8.90608 12.5444 8.81459C12.454 8.72433 12.3312 8.67382 12.2022 8.67382H8.58309V6.3949C8.58309 5.2998 8.84479 4.74378 10.2733 4.74378L12.3469 4.74255C12.6145 4.74255 12.8302 4.52599 12.8302 4.26015V0.644321C12.8302 0.376938 12.6145 0.161615 12.3481 0.160382Z"
                                    fill="#4267B2"
                                />
                            </svg>
                            <span>Поделиться</span>
                        </div>
                        <div class="testFinish__social-item">
                            <svg
                                width="26"
                                height="22"
                                viewBox="0 0 26 22"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                    fill-rule="evenodd"
                                    clip-rule="evenodd"
                                    d="M25.9904 3.15631C25.0385 3.56736 24.0075 3.85193 22.9297 3.97643C24.0318 3.33417 24.8721 2.31642 25.276 1.10304C24.2449 1.69787 23.1043 2.13066 21.8825 2.36188C20.9164 1.35797 19.5281 0.725586 17.9978 0.725586C15.0569 0.725586 12.67 3.04959 12.67 5.9131C12.67 6.32218 12.7187 6.71544 12.806 7.09487C8.37333 6.87749 4.45008 4.81631 1.81767 1.67416C1.35694 2.43895 1.09512 3.33417 1.09512 4.28472C1.09512 6.08306 2.03889 7.67389 3.46572 8.59875C2.59298 8.57702 1.77707 8.3379 1.05656 7.95056V8.0138C1.05656 10.5295 2.89539 12.6282 5.3289 13.1084C4.88442 13.2231 4.40949 13.2843 3.92644 13.2843C3.58546 13.2843 3.25261 13.2547 2.91975 13.1934C3.6017 15.2546 5.56637 16.7506 7.8984 16.798C6.07377 18.1873 3.77422 19.0133 1.27779 19.0133C0.849539 19.0133 0.429408 18.9896 0.00927734 18.9441C2.37175 20.4184 5.17059 21.2741 8.18255 21.2741C17.9815 21.2741 23.3418 13.3693 23.3418 6.51584L23.3255 5.84394C24.3728 5.11077 25.276 4.19974 25.9904 3.15631Z"
                                    fill="#1DA1F2"
                                />
                            </svg>
                        </div>
                        <div class="testFinish__social-item">
                            <svg
                                width="30"
                                height="18"
                                viewBox="0 0 30 18"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                    fill-rule="evenodd"
                                    clip-rule="evenodd"
                                    d="M27.9962 14.0274C27.1515 13.0036 26.1592 12.131 25.2201 11.2044C24.3724 10.3677 24.3177 9.88333 25.0006 8.91783C25.7433 7.86511 26.5436 6.85284 27.2936 5.80457C27.9933 4.82423 28.7103 3.84722 29.0789 2.67386C29.3127 1.92886 29.106 1.59811 28.349 1.46745C28.2183 1.44444 28.0836 1.44444 27.9504 1.44444L23.4605 1.4385C22.9069 1.42996 22.6015 1.67347 22.4062 2.16939C22.1411 2.83941 21.8698 3.50906 21.5545 4.15606C20.8419 5.62045 20.0445 7.03844 18.9274 8.23779C18.6807 8.50172 18.4083 8.83654 17.9967 8.69883C17.4802 8.50877 17.3297 7.65055 17.337 7.36027L17.3326 2.12002C17.2339 1.37205 17.0687 1.03686 16.3344 0.89209L11.6695 0.893203C11.0472 0.893203 10.7345 1.1356 10.4019 1.52981C10.2099 1.75773 10.1526 1.90547 10.5469 1.98082C11.3211 2.12893 11.7572 2.63488 11.8733 3.42071C12.0583 4.675 12.0454 5.93375 11.9393 7.19212C11.9078 7.56035 11.8446 7.92747 11.6996 8.26972C11.4746 8.81056 11.1104 8.91932 10.6328 8.58709C10.1996 8.28679 9.89413 7.86362 9.5975 7.43711C8.4789 5.83946 7.58534 4.11523 6.85845 2.30414C6.64773 1.78075 6.28465 1.46337 5.73691 1.45594C4.38886 1.43441 3.04228 1.42996 1.69423 1.45594C0.884009 1.47191 0.643181 1.86909 0.973218 2.61298C2.44021 5.91333 4.07351 9.12199 6.20462 12.0441C7.30009 13.5449 8.55636 14.8686 10.1797 15.8066C12.0194 16.8708 14 17.1901 16.0866 17.0913C17.0632 17.0449 17.3572 16.7884 17.4016 15.8036C17.4332 15.131 17.5077 14.461 17.8374 13.8563C18.1586 13.262 18.6476 13.1488 19.2112 13.5185C19.4924 13.7041 19.7288 13.9391 19.9542 14.187C20.5034 14.7962 21.0339 15.4224 21.6048 16.0096C22.3203 16.7465 23.1679 17.1811 24.2333 17.0928H28.3619C29.026 17.0494 29.3715 16.2242 28.99 15.4747C28.722 14.9484 28.3692 14.4799 27.9962 14.0274Z"
                                    fill="#5B88BD"
                                />
                            </svg>
                        </div>
                    </div>
                    <button class="testFinish__restart" @click="restart">Пройти еще раз</button>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
import { mapGetters } from "vuex";
export default {
    computed: {
        ...mapGetters([
            "questionsListsLength",
            "rightAnswers",
            "finishContItem"
        ]),
        setbg() {
            return {
                background: `url(${this.finishContItem.background}) 0/cover no-repeat`
            };
        }
    },
    methods: {
        restart() {
            this.$store.commit("resetRightAnswers");
            this.$store.commit("resetPage");
            this.$store.commit("toTesting", "start");
        }
    }
};
</script>

<style lang="scss">
.testFinish {
    &__content {
        min-height: 536px;
        max-width: 500px;
        padding: 30px 20px 45px 20px;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
    }
    &__result {
        margin: 0 0 60px 0;
    }
    &__title {
        font-weight: 900;
        font-size: 36px;
        line-height: 42px;
        margin: 0 0 40px 0;
    }
    &__social {
        display: flex;
        flex-wrap: wrap;
    }
    &__social-item {
        height: 50px;
        min-width: 60px;
        background: #fff;
        margin: 0 15px 15px 0;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0px 15px 22px rgba(121, 54, 68, 0.225628);
        border-radius: 2px;
        cursor: pointer;
        &:last-child {
            margin: 0;
        }
    }
    &__social-item--facebook {
        padding: 0 20px;
        span {
            margin: 0 0 0 12px;
        }
    }
    &__restart {
        font-weight: bold;
        font-size: 20px;
        line-height: 23px;
        background: none;
        position: relative;
        margin: auto 30px 0 0;
        outline: none;
        &::after {
            content: "";
            position: absolute;
            right: -30px;
            top: 50%;
            transform: translateY(-50%);
            display: inline-block;
            width: 21px;
            height: 21px;
            background-image: url("~@/assets/images/refresh-arrow.svg");
            background-repeat: no-repeat;
        }
    }
}
</style>